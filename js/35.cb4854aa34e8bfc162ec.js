webpackJsonp([35],{1150:function(t,e,i){i(2062);var s=i(3)(i(2065),i(2067),"data-v-41a5c748",null);t.exports=s.exports},2062:function(t,e,i){var s=i(2063);"string"==typeof s&&(s=[[t.i,s,""]]),i(2)(s,{}),s.locals&&(t.exports=s.locals)},2063:function(t,e,i){(t.exports=i(1)(void 0)).push([t.i,".ladder[data-v-41a5c748]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ladder .one-block[data-v-41a5c748],.ladder[data-v-41a5c748]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ladder .one-block[data-v-41a5c748]{background-image:url("+i(2064)+");background-repeat:no-repeat;background-size:100% 100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""])},2064:function(t,e,i){t.exports=i.p+"img/ladder-bg-0.5069216.png"},2065:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(2066),o=i(290);i.n(o),e.default={name:"ladder",data:function(){return{canvasWidth:230,canvasHeight:160,ladder:null}},activated:function(){},deactivated:function(){},mounted:function(){window.addEventListener("resize",this.resize),this.resize()},methods:{canvasClick:function(){var t=Math.random()>.5,e=Math.random()>.5;this.ladder.drawBg({fourRoot:t,reverse:e}).move()},resize:function(){var t=this,e=document.body.clientWidth;this.canvasWidth=e/320*230,this.canvasHeight=e/320*160,this.$nextTick(function(){t.ladder||(t.ladder=new s.a("canvas")),t.ladder.drawBg({fourRoot:!0,reverse:!0}),window.setTimeout(function(){return t.ladder.move()},1e3)})}}}},2066:function(t,e,i){"use strict";!function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),s=Math.max(0,16-(i-t)),o=window.setTimeout(function(){e(i+s)},s);return t=i+s,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.routes_default=[[20,30],[20,50],[210,50],[210,70],[20,70],[20,90],[210,90],[210,110],[20,110],[20,130]],this.canvas=document.getElementById(e),this.ctx=this.canvas.getContext("2d")}return t.prototype.drawBg=function(t){var e=this,i=t.fourRoot,s=t.reverse;this.clear(),this.start=1,this.timer="",this.ball_r=12,this.speed=10,this.ball_color_default="#9f9171",this.ball_color_active="red",this.line_width=10,this.line_color_default="#735d4f",this.line_color_active="red",this.top_txt_left="左",this.top_txt_right="右",this.bottom_txt_left="单",this.bottom_txt_right="双",this.txt_color_default="#ffffff",this.txt_gap=4,this.font="14px Microsoft Yahei",this.reverse=s,this.fourRoot=i;var o=this.ctx;this.routes=this.routes_default,i||(this.routes=this.routes_default.slice(0,8));var a=this.routes;return s&&(this.ctx.save(),this.setReverse(),this.ctx.restore()),this.setFlex(),o.lineCap="round",o.lineWidth=this.line_width,a.map(function(t,i){return 0===i?(o.moveTo.apply(o,t),o.lineWidth=e.line_width+1,o.lineTo(t[0],a[a.length-1][1]),o.moveTo(a[2][0],t[1]),o.lineTo(a[2][0],a[a.length-1][1]),o.strokeStyle=e.line_color_default,o.stroke(),o.beginPath(),o.moveTo.apply(o,t)):(o.lineWidth=e.line_width,o.lineTo.apply(o,t)),o}),o.strokeStyle=this.line_color_default,o.stroke(),o.beginPath(),this.drawBall_top_left(),this.drawBall_top_right(),this.drawBall_bottom_left(),this.drawBall_bottom_right(),this},t.prototype.move=function(){this.reverse?this.drawBall_top_right(this.ball_color_active):this.drawBall_top_left(this.ball_color_active),this.reverse&&(this.ctx.save(),this.setReverse()),this.animate()},t.prototype.setCenter=function(){},t.prototype.setReverse=function(){var t=this.routes[2][0]-this.routes[0][0]+2*this.ball_r+16;this.ctx.translate(t,0),this.ctx.scale(-1,1)},t.prototype.setFlex=function(){var t=this.canvas.width,e=this.canvas.height;this.ctx.scale(t/230,e/(this.fourRoot?160:140))},t.prototype.drawBall_top_left=function(t){var e=this.routes[0][0],i=this.routes[0][1],s=this.ctx;s.beginPath(),s.fillStyle=t||this.ball_color_default,s.arc(e,i-this.ball_r,this.ball_r,0,2*Math.PI),s.fill(),s.fillStyle=this.txt_color_default,s.textAlign="center",s.font=this.font,s.fillText(this.top_txt_left,e,i-this.ball_r+this.txt_gap),s.closePath()},t.prototype.drawBall_top_right=function(t){var e=this.routes[0][0]+this.routes[2][0]-this.routes[0][0],i=this.routes[0][1],s=this.ctx;s.beginPath(),s.fillStyle=t||this.ball_color_default,s.arc(e,i-this.ball_r,this.ball_r,0,2*Math.PI),s.fill(),s.fillStyle=this.txt_color_default,s.textAlign="center",s.font=this.font,s.fillText(this.top_txt_right,e,i-this.ball_r+this.txt_gap),s.closePath()},t.prototype.drawBall_bottom_left=function(t){var e=this.routes[0][0],i=this.routes[0][1]+this.routes[this.routes.length-1][1]-this.routes[0][1],s=this.ctx;s.beginPath(),s.fillStyle=t||this.ball_color_default,s.arc(e,i+this.ball_r,this.ball_r,0,2*Math.PI),s.fill(),s.fillStyle=this.txt_color_default,s.textAlign="center",s.font=this.font,s.fillText(this.bottom_txt_left,e,i+this.ball_r+this.txt_gap),s.closePath()},t.prototype.drawBall_bottom_right=function(t){var e=this.routes[0][0]+this.routes[2][0]-this.routes[0][0],i=this.routes[0][1]+this.routes[this.routes.length-1][1]-this.routes[0][1],s=this.ctx;s.beginPath(),s.fillStyle=t||this.ball_color_default,s.arc(e,i+this.ball_r,this.ball_r,0,2*Math.PI),s.fill(),s.fillStyle=this.txt_color_default,s.textAlign="center",s.font=this.font,s.fillText(this.bottom_txt_right,e,i+this.ball_r+this.txt_gap),s.closePath()},t.prototype.animate=function(){var t=this,e=this.calcWaypoints(),i=this.start,s=this.ctx;if(!(i<e.length-1))return this.reverse&&this.ctx.restore(),s.beginPath(),this.fourRoot&&this.reverse||!this.fourRoot&&!this.reverse?this.drawBall_bottom_right(this.ball_color_active):this.drawBall_bottom_left(this.ball_color_active),void this.ctx.closePath();this.timer=window.requestAnimationFrame(function(){return t.animate()}),s.beginPath(),s.moveTo(e[i-1][0],e[i-1][1]),s.lineTo(e[i][0],e[i][1]),s.strokeStyle=this.line_color_active,s.stroke(),this.start++},t.prototype.calcWaypoints=function(){for(var t=this.routes,e=[],i=this.speed,s=1;s<t.length;s++)for(var o=t[s-1],a=t[s],r=a[0]-o[0],l=a[1]-o[1],n=0;n<=i;n++){var h=o[0]+r*n/i,c=o[1]+l*n/i;e.push([h,c])}return e},t.prototype.clear=function(){window.cancelAnimationFrame(this.timer),this.canvas.height=this.canvas.height,this.ctx.fillStyle="#000000",this.ctx.beginPath(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.closePath()},t}();e.a=s},2067:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ladder"},[e("app-header",{attrs:{title:"经典梯子"}},[e("div",{slot:"right"},[e("i",{staticClass:"slidedown"}),this._v(" "),e("span",[this._v("彩种")])])]),this._v(" "),e("div",{staticClass:"other-block"},[e("div",{staticClass:"one-block"},[e("canvas",{attrs:{id:"canvas",width:this.canvasWidth,height:this.canvasHeight},on:{click:this.canvasClick}})])])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=35.cb4854aa34e8bfc162ec.js.map?cb4854aa34e8bfc162ec